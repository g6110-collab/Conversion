<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì—”íŠ¸ë¦¬ ì¸ìŠ¤íƒ€ ë³€í™˜ê¸° (ì„¸ë¯¸ì½œë¡  í¬í•¨)</title>
    <style>
        body { font-family: sans-serif; padding: 20px; text-align: center; background: #fafafa; }
        .box { max-width: 550px; margin: auto; background: white; padding: 25px; border: 1px solid #dbdbdb; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        #output { 
            width: 100%; height: 200px; margin-top: 15px; word-break: break-all; 
            font-size: 11px; background: #f1f1f1; overflow-y: auto; padding: 10px; 
            border: 1px solid #ccc; font-family: monospace; color: #333;
        }
        button { width: 100%; padding: 12px; margin-top: 10px; cursor: pointer; background: #0095f6; color: white; border: none; border-radius: 5px; font-weight: bold; }
        button:hover { background: #1877f2; }
        .info { font-size: 12px; color: #8e8e8e; margin-top: 10px; }
        .status { font-weight: bold; color: #0095f6; margin-bottom: 5px; }
    </style>
</head>
<body>

<div class="box">
    <h3>ğŸ“¸ Instagram Code (64x64)</h3>
    <div id="status" class="status">ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ì„¸ìš”</div>
    <input type="file" id="fileInput" accept="image/*">
    <button id="copyBtn">ì½”ë“œ ë³µì‚¬í•˜ê¸°</button>
    <div id="output">ë³€í™˜ëœ ì½”ë“œê°€ ì—¬ê¸° í‘œì‹œë©ë‹ˆë‹¤.</div>
    <p class="info">í˜•ì‹: W=64; H=64; [ìƒ‰ìƒì½”ë“œ...] (ê³µë°± êµ¬ë¶„)</p>
</div>

<script>
    const fileInput = document.getElementById('fileInput');
    const output = document.getElementById('output');
    const status = document.getElementById('status');

    fileInput.addEventListener('change', function(e) {
        const file = e.target.files[0]; // íŒŒì¼ ê°ì²´ ì°¸ì¡° ìˆ˜ì •
        if (!file) return;

        const img = new Image();
        const reader = new FileReader();
        reader.onload = (evt) => img.src = evt.target.result;
        img.onload = function() {
            let W = img.width, H = img.height;
            const size = 64; 
            const ratio = Math.min(size / W, size / H);
            W = Math.floor(W * ratio); H = Math.floor(H * ratio);

            const canvas = document.createElement('canvas');
            canvas.width = W; canvas.height = H;
            const ctx = canvas.getContext('2d');
            ctx.drawImage(img, 0, 0, W, H);

            const data = ctx.getImageData(0, 0, W, H).data;
            
            // ìš”ì²­í•˜ì‹  í˜•ì‹: W=64; H=64; RRGGBB RRGGBB ... (ê³µë°± êµ¬ë¶„)
            let res = `W=${W}; H=${H};`; 
            for (let i = 0; i < data.length; i += 4) {
                const r = data[i].toString(16).padStart(2,'0').toUpperCase();
                const g = data[i+1].toString(16).padStart(2,'0').toUpperCase();
                const b = data[i+2].toString(16).padStart(2,'0').toUpperCase();
                res += ` ${r}${g}${b}`;
            }
            output.textContent = res;
            status.textContent = `âœ… ë³€í™˜ ì™„ë£Œ! (${W}x${H})`;
        };
        reader.readAsDataURL(file);
    });

    document.getElementById('copyBtn').onclick = () => {
        const content = output.textContent;
        if (content.length < 10) return;
        navigator.clipboard.writeText(content).then(() => {
            alert("ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ì—”íŠ¸ë¦¬ ë¦¬ìŠ¤íŠ¸ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.");
        });
    };
</script>
</body>
</html>
